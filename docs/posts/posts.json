[
  {
    "path": "posts/2021-02-22-spatial-analysis-of-species-richness/",
    "title": "Spatial Analysis Using Raster Data",
    "description": "Species richness of cetaceans along the California coast.",
    "author": [
      {
        "name": "Janelle C",
        "url": {}
      }
    ],
    "date": "2021-02-22",
    "categories": [],
    "contents": "\r\nCetacean Data\r\nRead in cetacean data using raster::stack() and explore using the plot() function.\r\n\r\nhide\r\nmy_files <- list.files(path = \"ca_cetaceans\", full.names = TRUE)\r\n\r\ncetaceans <- raster::stack(my_files)\r\n\r\nplot(cetaceans)\r\n\r\n\r\n\r\n\r\nFigure 1: Figure 1. Species abundance along the California costline. Higher levels of presence are shown in green and lower levels shown in pink.\r\n\r\n\r\n\r\nPresence and Threshold\r\nCreate a function to Set a threshold for the presence of the species at 0.6, and assign a value for 1 if present or 0 if not not.\r\n\r\nhide\r\nis_present <- function(x, thresh = .6) {\r\n  y <- ifelse(x >= thresh, 1, NA)\r\n  return(y)\r\n}\r\n\r\ncetaceans_present <- calc(cetaceans, fun = is_present)\r\n\r\nplot(cetaceans_present)\r\n\r\n\r\n\r\n\r\nFigure 2: Figure 2. Presence of species on the California coast. Areas colored in yellow have an abundance higher than 0.6. Areas that are not colored in are either lower than 0.6 or did not show any signs of named species in that cell.\r\n\r\n\r\n\r\nFinalized plot of species richness\r\n\r\nhide\r\ncetaceans_df <- raster::rasterToPoints(cetaceans_present) %>% \r\n  as.data.frame() %>% \r\n  pivot_longer(cols = Balaenoptera_acutorostrata:Ziphius_cavirostris,\r\n               names_to = \"species\",\r\n               values_to = \"present\") %>%\r\n  group_by(x, y) %>% \r\n  replace_na(list(present = 0)) %>% \r\n  filter(present == 1) %>% \r\n  count(present)\r\n\r\nworld <- ne_countries(scale='medium',returnclass = 'sf')\r\n\r\n\r\nggplot() +\r\n  geom_raster(data = cetaceans_df, aes(x = x, y = y, fill = n)) +\r\n  geom_sf(data = world) +\r\n  coord_sf(expand = 0, xlim = c(-125, -115), ylim = c(32, 38)) +\r\n  theme_void() +\r\n  scale_fill_gradientn(colors = c(\"lightblue1\", \"aquamarine4\")) +\r\n  theme(legend.position = c(0.85, 0.8),\r\n        legend.background = element_rect(fill = \"gray75\", linetype = \"solid\"),\r\n        legend.key.size = unit(0.5, \"cm\"),\r\n        legend.key.width = unit(0.5,\"cm\"),\r\n        legend.margin=margin(t = 0.2, b = 0.2, l = 0.2, r = 0.2, unit='cm'),\r\n        plot.margin = unit(c(0,0,0,0), units = \"cm\")) +\r\n  labs(fill = \"Species Richness\") +\r\n  annotation_scale(pad_x = unit(7.5, \"cm\"), aes(unit_category = \"imperial\", style = \"bar\")) +\r\n  annotation_north_arrow(height = unit(1.5, \"cm\"), width = unit(1.5, \"cm\"), style = north_arrow_nautical())\r\n\r\n\r\n\r\n\r\nFigure 3: Figure 3. Species richness of cetaceans on the California coast. Areas colored in darker green have higher richness, and lighter areas have lower richness.\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2021-02-22-spatial-analysis-of-species-richness/spatial-analysis-of-species-richness_files/figure-html5/unnamed-chunk-1-1.png",
    "last_modified": "2021-02-23T21:07:20-08:00",
    "input_file": {}
  },
  {
    "path": "posts/2021-02-09-welcome/",
    "title": "Welcome.",
    "description": {},
    "author": [
      {
        "name": "Janelle C",
        "url": {}
      }
    ],
    "date": "2021-02-09",
    "categories": [],
    "contents": "\r\nThis part of my site is intended to display some of my previous work. Iâ€™ve done work and am comfortable with R, R Shiny, RMarkdown, ArcGIS, and of course, the {postcards} and {distill} packages. I hope you have fun exploring, I had fun creating.\r\n\r\n\r\n\r\n",
    "preview": {},
    "last_modified": "2021-02-09T13:56:36-08:00",
    "input_file": {}
  },
  {
    "path": "posts/2021-03-13-binomial-logistic-regression/",
    "title": "Binomial Logistic Regression",
    "description": "An analysis of different palmetto species",
    "author": [
      {
        "name": "Janelle C",
        "url": {}
      }
    ],
    "date": "2021-02-03",
    "categories": [],
    "contents": "\r\n\r\n\r\nhide\r\n\r\npalmetto <- read_csv(\"palmetto.csv\") %>% \r\n  mutate(species = as.factor(species))\r\n\r\n\r\n\r\nSection 1\r\nGraph 1.\r\n\r\n\r\nhide\r\n\r\nspp_labs <- c(\"Serenoa repens\", \"Sabal etonia\")\r\nnames(spp_labs) <- c(\"1\", \"2\")\r\n  \r\nggplot(data = palmetto, aes(x = width, y = length)) +\r\n  geom_point(aes(color = species), alpha = 0.5) +\r\n  facet_wrap(~species,\r\n             labeller = labeller(species = spp_labs)) +\r\n  theme_minimal() + \r\n  scale_color_manual(values = c(\"chartreuse4\", \"yellowgreen\")) +\r\n  theme(legend.position = \"none\",\r\n        panel.border = element_rect(fill = NA),\r\n        strip.text.x = element_text(face = \"italic\")) +\r\n  labs(x = \"Widest width of the canopy, perpindicular to length (cm)\", y = \"Widest length of the canopy (cm)\")\r\n\r\n\r\n\r\n\r\nFigure 1: Figure 1. Comparing length and width of two species of palmetto Sabal etonia and Serenoa repens. Serenoa repens is shown in dark green and Sabal etonia is shown in light green.\r\n\r\n\r\n\r\nBoth Sabal etonia and Serenoa repens seem to cluster around the same width to length ratio, but Sabal etonia tends towards being slightly longer at shorter widths.\r\nGraph 2.\r\n\r\n\r\nhide\r\n\r\nggplot(data = palmetto, aes(x = green_lvs, y = height)) +\r\n  geom_jitter(aes(color = green_lvs),\r\n              alpha = 0.5) +\r\n  facet_wrap(~species,\r\n             labeller = labeller(species = spp_labs)) +\r\n  theme_minimal() + \r\n  scale_color_gradientn(colors = c(\"greenyellow\",\"chartreuse4\", \"olivedrab4\")) +\r\n  theme(legend.position = \"none\",\r\n        panel.border = element_rect(fill = NA),\r\n        strip.text.x = element_text(face = \"italic\")) +\r\n  labs(x = \"Green Leaves (n)\", y = \"Maximum height (cm)\")\r\n\r\n\r\n\r\n\r\nFigure 2: Figure 2. Comparison of number of green leaves versus height in two species of plametto Serenoa repens and Sabal etonia. Lower numbers of leaves are represented in light green and higher numbers in dark green.\r\n\r\n\r\n\r\nSabal etonia produces fewer leaves in general, but it produces more leaves when it is a shorter palmetto than Serenoa repens.\r\nSection 2\r\n\r\n\r\nhide\r\n\r\npalmetto_blr <- glm(species ~ height + length + width + green_lvs,\r\n                            data = palmetto, \r\n                            family = \"binomial\") \r\n\r\n# summary(palmetto_blr)\r\n# levels(palmetto$species)\r\n# serenoa repens is coded as 0, sabal etonia is coded as 1\r\n\r\npalmetto_tidy <- palmetto_blr %>% \r\n  broom::tidy() %>% \r\n  select(estimate, std.error, p.value) %>%\r\n  mutate_if(is.numeric, funs(as.character(signif(., 3))))\r\n\r\nrownames(palmetto_tidy) <- c(\"Intercept\",\r\n                  \"Height (cm)\",\r\n                  \"Length (cm)\",\r\n                  \"Width (cm)\",\r\n                  \"Green Leaves (n)\")\r\n\r\n\r\n  kableExtra::kable(palmetto_tidy,\r\n                    col.names = c(\"Coefficient\",\r\n                                  \"Standard Error\",\r\n                                  \"p-value\"),\r\n                    caption = \"_Table 1._ Binomial logistic regression of _serenoa repens_ and *sabal etonia* in which _sabal etonia_ is the reference level.\") %>%\r\n# Column names - can't change row names in kable.\r\n  kableExtra::kable_styling(bootstrap_options = \"striped\",\r\n                full_width = F,\r\n                position = \"center\") %>%\r\n# Full width (F), centered table.\r\n  kableExtra::add_header_above(bold = TRUE,\r\n                   line = TRUE,\r\n                   c(\"Binomial Logistic Regression for _Serenoa repens_ and _Sabal etonia_\" = 4))\r\n\r\n\r\n\r\nTable 1: Table 1. Binomial logistic regression of serenoa repens and sabal etonia in which sabal etonia is the reference level.\r\n\r\n\r\n\r\nBinomial Logistic Regression for Serenoa repens and Sabal etonia\r\n\r\n\r\n\r\n\r\n\r\nCoefficient\r\n\r\n\r\nStandard Error\r\n\r\n\r\np-value\r\n\r\n\r\nIntercept\r\n\r\n\r\n3.23\r\n\r\n\r\n0.142\r\n\r\n\r\n3.42e-114\r\n\r\n\r\nHeight (cm)\r\n\r\n\r\n-0.0292\r\n\r\n\r\n0.00231\r\n\r\n\r\n8.69e-37\r\n\r\n\r\nLength (cm)\r\n\r\n\r\n0.0458\r\n\r\n\r\n0.00187\r\n\r\n\r\n3.73e-133\r\n\r\n\r\nWidth (cm)\r\n\r\n\r\n0.0394\r\n\r\n\r\n0.0021\r\n\r\n\r\n1.05e-78\r\n\r\n\r\nGreen Leaves (n)\r\n\r\n\r\n-1.91\r\n\r\n\r\n0.0389\r\n\r\n\r\n0\r\n\r\n\r\nSection 3\r\n\r\n\r\nhide\r\n\r\nblr_fitted <- palmetto_blr %>% \r\n  broom::augment(type.predict = \"response\") %>% \r\n  mutate(predicted = ifelse(.fitted >= 0.5, \"sabal\", \"serenoa\")) %>% \r\n  mutate(correct = ifelse(predicted == \"sabal\" & species == 2, \"predicted_correctly\",\r\n                          ifelse(predicted == \"serenoa\" & species == 1, \"predicted_correctly\", \"predicted_incorrectly\"))) \r\n\r\npalmetto_table <- blr_fitted %>% \r\n  count(correct, species) %>% \r\n  pivot_wider(names_from = correct, \r\n              values_from = n) %>% \r\n  mutate(percent = (predicted_correctly / (predicted_correctly + predicted_incorrectly)) * 100) %>% \r\n  mutate(across(is.numeric, ~ round(., 2))) %>% \r\n  mutate(species = c(\"Serenoa repens\",\r\n                   \"Sabal etonia\")) %>%\r\n  kableExtra::kable(col.names = c(\"Species\",\r\n                      \"Predicted correctly\",\r\n                      \"Predicted incorrectly\",\r\n                      \"Predicted correctly (%)\"),\r\n                caption = \"_Table 2._ Predictions of _Serenoa repens_ and _Sabal etonia_ using bionomial logistic regression. Percent predicted correctly is the percentage of observations that the model correctly classified as the species that was observed\") %>%\r\n# Column names - can't change row names in kable.\r\n  kableExtra::kable_styling(bootstrap_options = \"striped\",\r\n                full_width = F,\r\n                position = \"center\") %>%\r\n# Full width (F), centered table.\r\n  kableExtra::add_header_above(bold = TRUE,\r\n                   line = TRUE,\r\n                   c(\"Prediction for _Serenoa repens_ and _Sabal etonia_ using binomial logistic regression\" = 4))\r\n\r\n\r\npalmetto_table\r\n\r\n\r\n\r\nTable 2: Table 2. Predictions of Serenoa repens and Sabal etonia using bionomial logistic regression. Percent predicted correctly is the percentage of observations that the model correctly classified as the species that was observed\r\n\r\n\r\n\r\nPrediction for Serenoa repens and Sabal etonia using binomial logistic regression\r\n\r\n\r\n\r\nSpecies\r\n\r\n\r\nPredicted correctly\r\n\r\n\r\nPredicted incorrectly\r\n\r\n\r\nPredicted correctly (%)\r\n\r\n\r\nSerenoa repens\r\n\r\n\r\n5548\r\n\r\n\r\n564\r\n\r\n\r\n90.77\r\n\r\n\r\nSabal etonia\r\n\r\n\r\n5701\r\n\r\n\r\n454\r\n\r\n\r\n92.62\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2021-03-13-binomial-logistic-regression/binomial-logistic-regression_files/figure-html5/unnamed-chunk-2-1.png",
    "last_modified": "2021-03-13T12:18:12-08:00",
    "input_file": "binomial-logistic-regression.utf8.md"
  },
  {
    "path": "posts/2021-03-13-pca-analysis/",
    "title": "PCA Analysis",
    "description": "Analysis of nutrients in Cheese using a PCA biplot",
    "author": [
      {
        "name": "Janelle C",
        "url": {}
      }
    ],
    "date": "2021-01-22",
    "categories": [],
    "contents": "\r\nIntroduction\r\nThis data explores different types of cheese, comparing them on the basis of fat, protein, sugar, carbohydrates, fiber and calories. Data includes nutrient information from the USDA, but was filtered to only show comparisons between a few variables. This data is looked at on a PCA biplot, to see patterns in nutrients in cheese, and look for clusters of data to then be able to explore these comparisons further. Data taken from FoodData Central.\r\n\r\nRead in and clean data\r\n\r\n\r\n\r\nPCA Biplot\r\n\r\n\r\n\r\nSummary\r\nThis biplot shows that 42.88% of the variation in the data can be seen on the principal component 1 axis (PC1), and 21.04% on PC2. In addition, other takeaways are:\r\nIn cheese, fat and calories are highly related, they are nearly pointing the same direction and their arrow lengths are also almost the same. The differences in the lengths of the arrows mean that there is slightly less variation explained for fat than calories along PC1.\r\nThere is a cluster of cheeses that exist between protein, fat and energy. If I were to explore this data further, I would want to look into what those cheeses are and potentially make further conclusions about how and why they are grouped together.\r\nProtein and sugar have a negative correlation, shown by the arrows pointing opposite directions.\r\nFiber and carbohydrates have nearly a no relation to each other at all, shown by the 90 degree angle between their arrows.\r\n\r\n\r\n\r\n",
    "preview": "posts/2021-03-13-pca-analysis/pca-analysis_files/figure-html5/unnamed-chunk-2-1.png",
    "last_modified": "2021-03-13T12:10:57-08:00",
    "input_file": {}
  },
  {
    "path": "posts/2021-03-13-analysis-of-sierra-amphibians/",
    "title": "Analysis of Sierra Amphibians",
    "description": "Ampibian counts and use of `patchwork`",
    "author": [
      {
        "name": "Janelle C",
        "url": {}
      }
    ],
    "date": "2021-01-21",
    "categories": [],
    "contents": "\r\nRead in the data\r\n\r\n\r\nsierra_df <- readxl::read_xlsx(\"sierra_amphibians.xlsx\")\r\n\r\n\r\n\r\nTask 1.1\r\nA graph of total mountain yellow-legged frog (Rana muscosa) count each year across all water bodies, by life stage excluding the â€˜EggMassâ€™ level.\r\n\r\n\r\nramu_df <- sierra_df %>% \r\n  filter(amphibian_species == \"RAMU\") %>% \r\n  filter(!amphibian_life_stage == \"EggMass\") %>% \r\n  mutate(survey_date = lubridate::ymd(survey_date)) %>% \r\n  mutate(year = year(survey_date)) %>% \r\n  group_by(year) %>% \r\n  count(amphibian_life_stage, wt = amphibian_number)\r\n#wt = amphibian number essentially performs the uncount function within the count function\r\n\r\nramu_plot <- ggplot(ramu_df, aes(x = year, y = n)) +\r\n  geom_col(aes(fill = year), color = \"black\", show.legend = FALSE) +\r\n  scale_fill_gradientn(colours = c(\"gold\",\"darkgoldenrod3\", \"darkolivegreen4\") ) +\r\n  facet_wrap(~amphibian_life_stage, scales = \"free\") + #without scales = \"free\" the numbers are a bit hard to see for the lifestages other than tadpole\r\n  theme_minimal() +\r\n  labs(title = expression(paste(\"Count of mountain yellow-legged frog (\", italic(\"Rana muscosa\"), \") by lifestage\")),\r\n       x = NULL,\r\n       y = \"Count\") +\r\n  theme(panel.border = element_rect(colour = \"black\", fill=NA, size=0.5))\r\n\r\n\r\n\r\nTask 1.2\r\nA column graph containing total counts (over all years of the study) of combined adult and subadult endangered mountain yellow-legged frogs (Rana muscosa) observed in the 5 lakes with the greatest total observed counts.\r\n\r\n\r\nlake_df <- sierra_df %>% \r\n  filter(amphibian_species == \"RAMU\") %>% \r\n  filter(!amphibian_life_stage %in% c(\"EggMass\", \"Tadpole\")) %>% \r\n  mutate(lake_number = paste(\"Lake\", lake_id)) %>% \r\n  group_by(lake_number) %>% \r\n  count(amphibian_life_stage, wt = amphibian_number) \r\n#wt = amphibian number essentially performs the uncount function within the count function\r\n\r\nlake_df_top_5 <- lake_df %>% \r\n  count(lake_number, wt = n) %>% \r\n  ungroup(lake_number) %>% \r\n  rename(amphibian_count = n) %>% \r\n  slice_max(amphibian_count, n = 5)\r\n\r\nlake_df_lifestage <- lake_df %>% \r\n  inner_join(lake_df_top_5) %>% \r\n  rename(lifestage_count = n) \r\n\r\nlake_plot <- ggplot(lake_df_lifestage, aes(y = lifestage_count, x = fct_reorder(lake_number, lifestage_count))) +\r\n  geom_bar(position = \"stack\", stat = \"identity\", aes(fill = amphibian_life_stage)) +\r\n  scale_fill_manual(values = c(\"darkgoldenrod3\", \"darkolivegreen4\", breaks = c(\"Adult\", \"SubAdult\"))) +\r\n  coord_flip() +\r\n  labs(fill = \"Life-stage\",\r\n       title = \"Lakes with the highest numbers of mountain yellow-legged frog\",\r\n       x = NULL,\r\n       y = \"Count\")+\r\n  theme_minimal() +\r\n  theme(legend.position = c(0.85,0.25))+\r\n  theme(panel.border = element_rect(colour = \"black\", fill=NA, size=0.5))\r\n  \r\n#lake_plot\r\n\r\n\r\n\r\nFinal plot for mountain yellow-legged frog using patchwork\r\n\r\n\r\nramu_plot / lake_plot\r\n\r\n\r\n\r\n\r\nFigure 1: Figure 1. Plot of counts of mountain yellow legged frogs, by year and life-stage, as well as by top 5 lakes with the highest total counts of adults in subadults. In the upper plots, the different colors of bars display different years. In the lower plot, green depicts total counts through all years for subadults and yellow depicts total counts through all years for adults in each lake surveyed\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "preview": "posts/2021-03-13-analysis-of-sierra-amphibians/analysis-of-sierra-amphibians_files/figure-html5/unnamed-chunk-4-1.png",
    "last_modified": "2021-03-13T11:59:05-08:00",
    "input_file": {}
  }
]
